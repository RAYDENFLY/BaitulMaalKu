<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>BaitulMaalKu - Company Profile</title>
    <meta id="meta-description" content="BaitulMaalKu didirikan atas semangat dakwah di bidang keuangan sosial Islam terutama pada isu zakat, infaq, dan wakaf. Legalitas sebagai Yayasan dan LAZ diperoleh pada tahun 2019. BaitulMaalKu resmi menjadi lembaga amil zakat pertama di Karawang yang legal berdasarkan rekomendasi BAZNAS dan SK dari Kementerian Agama RI. Pada tahun 2020 dan 2021, BaitulMaalKu beroperasi berdasarkan 4 pilar sesuai kebutuhan masyarakat dan tujuan pembangunan berkelanjutan (SDG’s)." name="description">
    <meta id="meta-keywords" content="BaitulMaalKu, zakat, infaq, wakaf, keuangan sosial Islam, yayasan, LAZ, BAZNAS, Kementerian Agama RI, amil zakat, Karawang, tujuan pembangunan berkelanjutan, SDG’s" name="keywords">

    <!-- Favicons -->
    <link href="/assets/img/favicon.png" rel="icon">
    <link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    <!-- Bootstrap JavaScript (Bootstrap.bundle.min.js) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

    <!-- Template Main CSS File -->
    <link href="/assets/css/style.css" rel="stylesheet">

    <style>
        .pdf-container {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            padding-top: 20px;
        }
        #pdf-render {
            max-width: 80%;
            max-height: 80vh;
            border: 1px solid #ccc;
            margin-bottom: 20px;
        }
        .pdf-controls {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px; /* Padding horizontal agar tombol tidak terlalu dekat tepi */
        }
        .pdf-controls button {
            background-color: rgba(255, 255, 255, 0.7);
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin: 185px;
        }
        .pdf-controls button:hover {
            background-color: rgba(255, 255, 255, 0.9);
        }
        
        .mobile-instructions {
            display: none; /* Hide instructions by default */
            margin-top: 20px;
            text-align: center;
            font-size: 14px;
            color: #666;
        }

        .download-btn {
            position: absolute;
            margin-top: 480px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #4CAF50; /* Green */
            color: white;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            border: none;
            cursor: pointer;
            outline: none;
            transition: background-color 0.3s ease;
        }
        .download-btn:hover {
            background-color: #45a049;
        }

        /* Responsive adjustments */
        @media (max-width: 1120px) {
            .pdf-controls {
                display: none; /* Hide controls on mobile and tablet */
            }
            .mobile-instructions {
                display: block; /* Show instructions on mobile and tablet */
                margin-top: -4px;
                padding-bottom: 15px;
            }
            .pdf-container {
                padding-bottom: 100px; /* Ensure enough space for the download button */
            }
            .download-btn {
                bottom: 60px; /* Move the button up to avoid overlap with instructions */
            }
        }
        @media (max-width: 1024px) {
            .download-btn {
                font-size: 14px;
                padding: 8px 16px;
                bottom: 585px;
            }
            .mobile-instructions {
                margin-top: -4px;
                padding-bottom: 33px; /* Adjust padding to bring instructions up */
            }
            #pdf-render {
                max-width: 100%;
                max-height: 60vh;
                margin-top: -531px;
            }
        }
        @media (max-width: 820px) {
            .download-btn {
                font-size: 14px;
                padding: 8px 16px;
                bottom: 432px;
            }
            .mobile-instructions {
                margin-top: -4px;
                padding-bottom: 33px; /* Adjust padding to bring instructions up */
            }
            #pdf-render {
                max-width: 100%;
                max-height: 60vh;
                margin-top: -375px;
            }
        }
        @media (max-width: 768px) {
            .download-btn {
                font-size: 14px;
                padding: 8px 16px;
                bottom: 308px;
            }
            .mobile-instructions {
                margin-top: -4px;
                padding-bottom: 33px; /* Adjust padding to bring instructions up */
            }
            #pdf-render {
                max-width: 100%;
                max-height: 60vh;
                margin-top: -260px;
            }
        }
        @media (max-width: 59px) {
            .pdf-container {
                padding-top: 10px;
            }
            .download-btn {
                font-size: 12px;
                padding: 6px 12px;
                bottom: 241px;               
            }
            #pdf-render {
                max-width: 100%;
                max-height: 60vh;
                margin-top: -194px;
            }
            .mobile-instructions {
                padding-bottom: 10px; /* Adjust padding to bring instructions up */
            }
        }
        @media (max-width: 564px) {
            .pdf-container {
                padding-top: 10px;
            }
            .download-btn {
                font-size: 12px;
                padding: 6px 12px;
                bottom: 117px;               
            }
            #pdf-render {
                max-width: 100%;
                max-height: 60vh;
                margin-top: -76px;
            }
            .mobile-instructions {
                padding-bottom: 10px; /* Adjust padding to bring instructions up */
            }
        }
        @media (max-width: 516px) {
            .pdf-container {
                padding-top: 10px;
            }
            .download-btn {
                font-size: 12px;
                padding: 6px 12px;
                bottom: 112px;               
            }
            #pdf-render {
                max-width: 100%;
                max-height: 60vh;
                margin-top: -66px;
            }
            .mobile-instructions {
                padding-bottom: 10px; /* Adjust padding to bring instructions up */
            }
        }
        @media (max-width: 430px) {
            .pdf-container {
                padding-top: 10px;
                margin-top: -91px;
            }
            .download-btn {
                font-size: 12px;
                padding: 6px 12px;
                bottom: 261px; /* Move the button up for very small screens */
            }
            #pdf-render {
                max-width: 100%;
                max-height: 60vh;
                margin-bottom: 10px;
                margin-top: -140px;
            }
            .mobile-instructions {

                padding-bottom: 10px; /* Adjust padding to bring instructions up */
            }
        }
        @media (max-width: 429px) {
            .pdf-container {
                padding-top: 10px;
                margin-top: -91px;
            }
            .download-btn {
                font-size: 12px;
                padding: 6px 12px;
                bottom: 68px; /* Move the button up for very small screens */
            }
            #pdf-render {
                max-width: 100%;
                max-height: 60vh;
                margin-bottom: 10px;
                margin-top: 58px;
            }
            .mobile-instructions {
                padding-bottom: 10px; /* Adjust padding to bring instructions up */
            }
        }
        @media (max-width: 412px) {
            .pdf-container {
                padding-top: 10px;
                margin-top: -40px;
            }
            .download-btn {
                font-size: 12px;
                padding: 6px 12px;
                bottom: 324px; /* Move the button up for very small screens */
            }
            #pdf-render {
                max-width: 100%;
                max-height: 55vh;
                margin-bottom: 10px;
                margin-top: -241px;
            }
            .mobile-instructions {
                margin-top: 10px;
                padding-bottom: 10px; /* Adjust padding to bring instructions up */
            }
        }
        @media (max-width: 394px) {
            .pdf-container {
                padding-top: 10px;
                margin-top: -40px;
            }
            .download-btn {
                font-size: 12px;
                padding: 6px 12px;
                bottom: 280px; /* Move the button up for very small screens */
            }
            #pdf-render {
                max-width: 100%;
                max-height: 55vh;
                margin-bottom: 10px;
                margin-top: -205px;
            }
            .mobile-instructions {
                margin-top: 10px;
                padding-bottom: 10px; /* Adjust padding to bring instructions up */
            }
        }
        @media (max-width: 375px) {
            .pdf-container {
                padding-top: 10px;
                margin-top: 20px;
            }
            .download-btn {
                font-size: 12px;
                padding: 6px 12px;
                bottom: 230px; /* Move the button up for very small screens */
            }
            #pdf-render {
                max-width: 100%;
                max-height: 55vh;
                margin-bottom: 10px;
                margin-top: -205px;
            }
            .mobile-instructions {
                margin-top: -2px;
                padding-bottom: 10px; /* Adjust padding to bring instructions up */
            }
        }
        @media (max-width: 360px) {
            .pdf-container {
                padding-top: 2px;
                margin-top: -13px;
            }
            .download-btn {
                font-size: 12px;
                padding: 6px 12px;
                bottom: 258px; /* Move the button up for very small screens */
            }
            #pdf-render {
                max-width: 100%;
                max-height: 55vh;
                margin-bottom: 10px;
                margin-top: -205px;
            }
            .mobile-instructions {
                padding-bottom: 10px; /* Adjust padding to bring instructions up */
            }
        }
        @media (max-width: 357px) {
            .pdf-container {
                padding-top: 2px;
                margin-top: 144px;
            }
            .download-btn {
                font-size: 12px;
                padding: 6px 12px;
                bottom: 387px; /* Move the button up for very small screens */
            }
            #pdf-render {
                max-width: 100%;
                max-height: 55vh;
                margin-bottom: 10px;
                margin-top: -478px;
            }
            .mobile-instructions {
                padding-bottom: 10px; /* Adjust padding to bring instructions up */
            }
        }
        @media (max-width: 256px) {
            .pdf-container {
                padding-top: 10px;
            }
            .download-btn {
                font-size: 10px;
                padding: 4px 8px;
                bottom: 253px; /* Move the button up for very small screens */
            }
            #pdf-render {
                max-width: 100%;
                max-height: 50vh;
                margin-bottom: 10px;
            }
            .mobile-instructions {
                margin-top: 10px;
                padding-bottom: 10px; /* Adjust padding to bring instructions up */
            }
        }
    </style>
</head>

<body>
    <%- include('../../partials/navbar') %>
    <!-- ======= Breadcrumbs ======= -->
    <section class="breadcrumbs">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center">
                <h2>Company Profile</h2>
                <ol>
                    <li><a href="/">Home</a></li>
                    <li>Company Profile</li>
                </ol>
            </div>
        </div>
    </section><!-- End Breadcrumbs -->

    <div class="pdf-container">
        <div class="pdf-controls">
            <button id="prev-page">Previous Page</button>
            <span style="margin-bottom: 457px; margin-right: 10px;">Page: <span id="page-num"></span> / <span id="page-count"></span></span>
            <button id="next-page" style="margin-right: 210px;">Next Page</button>
        </div>
        <canvas id="pdf-render"></canvas>
        <a href="/assets/pdfs/company_profile.pdf" class="download-btn" download>Download PDF</a>
        <div class="mobile-instructions">
            Tekan di kiri dan di kanan untuk navigasi
        </div>
    </div>
    <br>
    <br>
    <br>

    <!-- PDF.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.9.359/pdf.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const url = '/assets/pdfs/company_profile.pdf';

            let pdfDoc = null,
                pageNum = 1,
                pageIsRendering = false,
                pageNumIsPending = null;

            const scale = 1,
                canvas = document.getElementById('pdf-render'),
                ctx = canvas.getContext('2d');

            // Render the page
            const renderPage = num => {
                pageIsRendering = true;

                // Get page
                pdfDoc.getPage(num).then(page => {
                    const viewport = page.getViewport({ scale });
                    canvas.height = viewport.height;
                    canvas.width = viewport.width;

                    const renderCtx = {
                        canvasContext: ctx,
                        viewport
                    };

                    page.render(renderCtx).promise.then(() => {
                        pageIsRendering = false;

                        if (pageNumIsPending !== null) {
                            renderPage(pageNumIsPending);
                            pageNumIsPending = null;
                        }
                    });

                    // Output current page
                    document.getElementById('page-num').textContent = num;
                });
            };

            // Check for pages rendering
            const queueRenderPage = num => {
                if (pageIsRendering) {
                    pageNumIsPending = num;
                } else {
                    renderPage(num);
                }
            };

            // Show Prev Page
            const showPrevPage = () => {
                if (pageNum <= 1) {
                    return;
                }
                pageNum--;
                queueRenderPage(pageNum);
            };

            // Show Next Page
            const showNextPage = () => {
                if (pageNum >= pdfDoc.numPages) {
                    return;
                }
                pageNum++;
                queueRenderPage(pageNum);
            };

            // Get Document
            pdfjsLib.getDocument(url).promise.then(pdfDoc_ => {
                pdfDoc = pdfDoc_;
                document.getElementById('page-count').textContent = pdfDoc.numPages;

                renderPage(pageNum);
            });

            // Button Events
            document.getElementById('prev-page').addEventListener('click', showPrevPage);
            document.getElementById('next-page').addEventListener('click', showNextPage);

            // Event listener for changing slides when clicking on the edge
            document.body.addEventListener('click', function (event) {
                const width = window.innerWidth;
                const clickX = event.clientX;

                // Adjust the percentage as needed
                const edgePercentage = 0.35; // 15% dari lebar jendela

                // Change slide on left side click
                if (clickX < width * edgePercentage) {
                    showPrevPage();
                }

                // Change slide on right side click
                if (clickX > width * (1 - edgePercentage)) {
                    showNextPage();
                }
            });
        });
    </script>
        <script>
           document.addEventListener('DOMContentLoaded', function() {
            const userLang = navigator.language || navigator.userLanguage;
            if (userLang !== 'id') { // Check if the user's language is not Indonesian
                const descriptionMeta = document.getElementById('meta-description');
                const keywordsMeta = document.getElementById('meta-keywords');

                // Function to fetch translations
                async function translateText(text, targetLang) {
                    const apiKey = 'YOUR_GOOGLE_TRANSLATE_API_KEY';
                    const url = `https://translation.googleapis.com/language/translate/v2?key=${apiKey}`;
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            q: text,
                            target: targetLang
                        })
                    });
                    const data = await response.json();
                    return data.data.translations[0].translatedText;
                }

                // Translate and update meta tags
                translateText(descriptionMeta.content, userLang).then(translatedDescription => {
                    descriptionMeta.content = translatedDescription;
                }).catch(error => console.error('Error translating description:', error));

                translateText(keywordsMeta.content, userLang).then(translatedKeywords => {
                    keywordsMeta.content = translatedKeywords;
                }).catch(error => console.error('Error translating keywords:', error));
            }
        });
        </script>
</body>
</html>
