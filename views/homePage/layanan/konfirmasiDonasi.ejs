<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>BaitulMaalKu - Mitra Kami</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <base href="/">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <!-- Bootstrap JavaScript (Bootstrap.bundle.min.js) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="assets/css/kalkulator.css" rel="stylesheet">
    <link href="assets/css/form.css" rel="stylesheet">
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-center">
    <%- include('../../partials/navbar') %>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <section class="breadcrumbs">
      <div class="container">

        <div class="d-flex justify-content-between align-items-center">
          <h2>Konfirmasi Donasi</h2>
          <ol>
            <li><a href="/">Home</a></li>
            <li>Konfirmasi Donasi</li>
          </ol>
        </div>

      </div>
    </section><!-- End Breadcrumbs -->

    <section class="inner-page">
      <div class="form-container">
            <div class="section-title">
              <h2>Konfirmasi Donasi</h2>
              <p>Terima kasih atas kebaikan hati Anda! Kami senang memberitahu bahwa donasi Anda telah diterima dengan tulus hati. Dengan bantuan Anda, kami dapat terus mewujudkan perubahan positif dan memberikan dampak yang signifikan.</p>
            </div>

        <form id="donationForm" enctype="multipart/form-data">
          <div class="section-title">
          <h2>Data Donatur</h2>
        </div>
        <div class="form-group">
            <label for="fullName">Nama Lengkap</label>
            <input type="text" id="fullName" name="fullName" required>
        </div>  
            <label for="phoneNumber">Nomer Telepon</label>
            <input type="text" id="phoneNumber" name="phoneNumber" required>

            <label for="emailContact">Email</label>
            <input type="text" id="emailContact" name="emailContact" required>
            <br>
            <div class="section-title">
              <h2>Data Donasi</h2>
            </div>

            
            <div class="form-row">
              <div class="form-group col-md-4">
                  <label for="nominal">Nominal:</label>
                  <input type="text" class="form-control" id="nominal" name="nominal" required>
              </div>
              <div class="form-group col-md-4">
                  <label for="qty">QTY:</label>
                  <input type="text" class="form-control" id="qty" name="qty" required>
              </div>
              <div class="form-group col-md-4">
                  <label for="atasNama">Atas Nama:</label>
                  <input type="text" class="form-control" id="atasNama" name="atasNama" required>
              </div>
          </div>


          <div class="form-group">
              <label for="selectedProgram">Pilih Program:</label>
              <select class="form-control" id="selectedProgram" name="selectedProgram" required>
                  <option value="Program 1">Program 1</option>
                  <option value="Program 2">Program 2</option>
                  <option value="Program 3">Program 3</option>
              </select>
          </div>


            <label for="donationAmount">Jumlah Donasi:</label>
            <input type="text" id="donationAmount" name="donationAmount" required>

            <label for="paymentMethod">Metode Pembayaran:</label>
            <input type="text" id="paymentMethod" name="paymentMethod" required>

            <label for="cardOwnerName">Nama Pemilik Kartu:</label>
            <input type="text" id="cardOwnerName" name="cardOwnerName" required>

            <label for="cardNumber">Nomor Kartu:</label>
            <input type="text" id="cardNumber" name="cardNumber" required>

            <label for="paymentProof">Bukti Pembayaran (gambar):</label>
            <input type="file" id="paymentProof" name="paymentProof" accept="image/*" required>

            <!-- Tambahkan rincian donasi lainnya sesuai kebutuhan -->

            <button type="button" class="confirmation-btn" id="confirmDonationBtn">Konfirmasi Donasi</button>
        </form>
      </div>
    </section>

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <%- include('../../partials/footer') %>
   </footer><!-- End Footer -->
 
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

  <script>
    function sendWhatsAppMessage() {
        const fullName = document.getElementById('fullName').value;
        const phoneNumber = '08111600660'; // Ganti dengan nomor yang benar
        const donationAmount = document.getElementById('donationAmount').value;
        const selectedProgram = document.getElementById('selectedProgram').value;

        const message = `Halo, saya ${fullName}. Saya telah melakukan donasi sebesar ${donationAmount} untuk ${selectedProgram}.`;

        const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
        window.open(whatsappUrl, '_blank');

        // Jika Anda ingin mengaktifkan pengiriman email juga, uncomment baris berikut:
        // sendEmail();
    }

    document.getElementById('confirmDonationBtn').addEventListener('click', sendWhatsAppMessage);
</script>
<script>
  $(document).ready(function() {
      // Fungsi untuk mengambil nilai dari formulir dan mengirimnya ke server
      function sendFormData() {
          const formData = {
              fullName: $('#fullName').val(),
              phoneNumber: $('#phoneNumber').val(),
              emailContact: $('#emailContact').val(),
              nominal: $('#nominal').val(),
              qty: $('#qty').val(),
              atasNama: $('#atasNama').val(),
              selectedProgram: $('#selectedProgram').val(),
              donationAmount: $('#donationAmount').val(),
              paymentMethod: $('#paymentMethod').val(),
              cardOwnerName: $('#cardOwnerName').val(),
              cardNumber: $('#cardNumber').val(),
              // tambahkan atribut formulir lainnya sesuai kebutuhan
          };
  
          // Kirim data ke server menggunakan AJAX
          $.ajax({
              type: 'POST',
              url: '/send-donation-email', // Ganti dengan URL endpoint yang sesuai di server Anda
              data: formData,
              success: function(response) {
                  // Handle sukses, misalnya menampilkan pesan sukses kepada pengguna
                  alert('Donation confirmation successful!');
              },
              error: function(error) {
                  // Handle error, misalnya menampilkan pesan kesalahan kepada pengguna
                  alert('Donation confirmation failed. Please try again later.');
              }
          });
      }
  
      // Menambahkan event listener pada tombol konfirmasi donasi
      $('#confirmDonationBtn').on('click', function() {
          // Panggil fungsi untuk mengirim data ke server
          sendFormData();
      });
  });
  </script>
</body>

</html>